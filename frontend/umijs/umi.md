### 1.Umi ç®€ä»‹

Umiï¼Œæ˜¯èš‚èšé‡‘æœçš„åº•å±‚ã€å¯æ‰©å±•çš„ä¼ä¸šçº§å‰ç«¯åº”ç”¨æ¡†æ¶ï¼Œä»¥è·¯ç”±ä¸ºåŸºç¡€ï¼Œæ”¯æŒé…ç½®è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼Œä¿è¯è·¯ç”±çš„åŠŸèƒ½å®Œå¤‡ã€‚

**Umi çš„ç‰¹ç‚¹**

1. å¯æ‰©å±•ï¼šumi å®ç°äº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ä½¿å…¶æ’ä»¶åŒ–ï¼Œumi å†…éƒ¨åŠŸèƒ½ä¹Ÿå…¨ç”±æ’ä»¶å®Œæˆï¼Œå¦å¤–ä¹Ÿæ”¯æŒæ’ä»¶å’Œæ’ä»¶é›†ï¼Œä»¥æ»¡è¶³åŠŸèƒ½å’Œå‚ç›´åŸŸçš„åˆ†å±‚éœ€æ±‚ï¼›

2. å¼€ç®±å³ç”¨ï¼šumi å†…ç½®äº†è·¯ç”±ã€æ„å»ºã€éƒ¨ç½²ã€æµ‹è¯•ç­‰ï¼Œä»…éœ€ä¸€ä¸ªä¾èµ–å³å¯ä¸Šæ‰‹å¼€å‘ï¼Œå¹¶ä¸”è¿˜æä¾›é’ˆå¯¹ React çš„é›†æˆæ’ä»¶é›†ï¼Œå†…æ¶µä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¯æ»¡è¶³å¤§éƒ¨åˆ†çš„å¼€å‘éœ€æ±‚ï¼›

3. ä¼ä¸šçº§ï¼šèš‚èšå†…éƒ¨ä»¥åŠé˜¿é‡Œã€ä¼˜é…·ã€ç½‘æ˜“ã€é£çŒªã€å£ç¢‘ç­‰å…¬å¸çš„å¤§é‡åº”ç”¨å®è·µï¼Œå€¼å¾—ä¿¡èµ–ï¼›

4. å¤§é‡è‡ªç ”ï¼šåŒ…å«å¾®å‰ç«¯ã€ç»„ä»¶æ‰“åŒ…ã€æ–‡æ¡£å·¥å…·ã€è¯·æ±‚åº“ã€hooksã€æ•°æ®æµç­‰ï¼Œæ»¡è¶³æ—¥å¸¸çš„å‘¨è¾¹éœ€æ±‚ï¼›

5. å®Œå¤‡è·¯ç”±ï¼šåŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼ŒåŒæ—¶ä¿è¯åŠŸèƒ½çš„å®Œå¤‡æ€§ï¼Œæ¯”å¦‚åŠ¨æ€è·¯ç”±ã€åµŒå¥—è·¯ç”±ã€æƒé™è·¯ç”±ç­‰ï¼›

6. é¢å‘æœªæ¥ï¼šåœ¨æ»¡è¶³éœ€æ±‚å¼€å‘çš„åŒæ—¶ï¼Œä¹Ÿåœ¨å®æ—¶ä¿æŒå¯¹æ–°æŠ€æœ¯çš„æ¢ç´¢ï¼Œå¦‚ dll æé€Ÿã€modern modeã€webpack@5ã€è‡ªåŠ¨åŒ– externalã€bundle less ç­‰ï¼›

**ä¸é€‚åˆ Umi çš„åœºæ™¯**

1. éœ€è¦å…¼å®¹ IE8 ä»¥åŠæ›´ä½ç‰ˆæœ¬çš„æµè§ˆå™¨

2. éœ€è¦æ”¯æŒ 16.8.0 ä»¥ä¸‹ç‰ˆæœ¬çš„ React

3. éœ€è¦è·‘åœ¨ Node 10 ä»¥ä¸‹ç‰ˆæœ¬çš„ç¯å¢ƒ

4. æœ‰å¾ˆå¼ºçš„ webpack è‡ªå®šä¹‰éœ€æ±‚å’Œä¸»è§‚æ„æ„¿

5. éœ€è¦é€‰æ‹©ä¸åŒçš„è·¯ç”±æ–¹æ¡ˆ

**æ’ä»¶å’Œæ’ä»¶é›†**

<img src="./images/i1.png" alt="umiæ”¯æŒæ’ä»¶å’Œæ’ä»¶é›†" style="zoom: 30%;">

Umi æ”¯æŒæ’ä»¶å’Œæ’ä»¶é›†ï¼Œä¸åŒçš„æ’ä»¶é›†åˆåˆ°ä¸€èµ·å½¢æˆå„ç§æ’ä»¶é›†ï¼Œä¸åŒçš„æ’ä»¶é›†åˆå¯ä»¥æ”¯æŒä¸åŒçš„ä¸šåŠ¡ç±»å‹ã€‚

**é…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±**

umi åŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼Œé…ç½®å¼è·¯ç”±æ˜¯å¤§éƒ¨åˆ†ç”¨æˆ·åœ¨ä½¿ç”¨çš„ï¼Œæ˜¯å‘ç°å®çš„å¦¥åï¼Œå› ä¸ºå®ƒåŠŸèƒ½å¼ºå¤§ï¼›çº¦å®šå¼è·¯ç”±æ˜¯åœ¨åŠªåŠ›çš„ï¼Œå› ä¸ºå®ƒæ›´åŠ çš„ä¼˜é›…ã€ç®€æ´ã€‚

**.umi ä¸´æ—¶æ–‡ä»¶**

.umiä¸´æ—¶æ–‡ä»¶è¢«ç§°ä¸ºæ•´ä¸ªumié¡¹ç›®çš„å‘åŠ¨æœºï¼Œé¡¹ç›®çš„å…¥å£æ–‡ä»¶ã€è·¯ç”±ç­‰éƒ½åœ¨è¿™é‡Œï¼Œè¿™äº›æ–‡ä»¶æ˜¯ç”± umi å†…éƒ¨æ’ä»¶åŠç¬¬ä¸‰æ–¹æ’ä»¶ç”Ÿæˆçš„ã€‚

.umiä¸´æ—¶æ–‡ä»¶ç”Ÿæˆåœ¨srcç›®å½•ä¸‹

åœ¨.umi ç›®å½•ä¸‹é€šå¸¸å¯ä»¥çœ‹åˆ°è¿™æ ·çš„ç›®å½•/æ–‡ä»¶ï¼š

```markdown
.umi
â”œâ”€umi.ts  // å…¥å£æ–‡ä»¶
â”œâ”€plugin-request
|       â””request.ts
â”œâ”€plugin-model
|      â”œâ”€Provider.tsx
|      â”œâ”€runtime.tsx
|      â”œâ”€useModel.tsx
|      â”œâ”€helpers
|      |    â”œâ”€constant.tsx
|      |    â”œâ”€dispatcher.tsx
|      |    â””executor.tsx
â”œâ”€plugin-initial-state
|          â”œâ”€Provider.tsx
|          â”œâ”€exports.ts
|          â”œâ”€runtime.tsx
|          â”œâ”€models
|          |   â””initialState.ts
â”œâ”€plugin-helmet
|       â””exports.ts
â”œâ”€core
|  â”œâ”€devScripts.ts
|  â”œâ”€history.ts
|  â”œâ”€plugin.ts
|  â”œâ”€pluginConfig.d.ts
|  â”œâ”€pluginRegister.ts
|  â”œâ”€polyfill.ts
|  â”œâ”€routes.ts
|  â””umiExports.ts
â”œâ”€.cache
|   â”œâ”€babel-loader
|   |      â”œâ”€0395cb2cefdacebd957375d458411a10.json.gz
|   |      â”œâ”€0dc2e049637a87e86d6a661a38dd651a.json.gz
|   |      â”œâ”€10402cd3212c5aa97f851abca1d23a18.json.gz
|   |      â”œâ”€112abf79079ca5a84012e798bd69353e.json.gz
|   |      â”œâ”€1c8e28554df70209c71e20b895c992e8.json.gz
```

.umi ä¸´æ—¶æ–‡ä»¶æ˜¯ umi æ¡†æ¶éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæ¡†æ¶å’Œæ’ä»¶ä¼šæ ¹æ®æˆ‘ä»¬çš„ä»£ç ç”Ÿæˆä¸´æ—¶æ–‡ä»¶ï¼ŒåŸæ¥ä¸€éƒ¨åˆ†åœ¨é¡¹ç›®ä¸­çš„è°ƒè¯•ã€è„ä¹±å·®çš„éƒ¨åˆ†éƒ½ç§»åŠ¨åˆ°äº†è¿™é‡Œï¼›

æˆ‘ä»¬å¯ä»¥åœ¨.umi ä¸­è°ƒè¯•ä»£ç ï¼Œä½†æ˜¯ä¸è¦æäº¤åˆ°.gitï¼Œå› ä¸ºè¿™ä¸ªç›®å½•æ˜¯ä¸´æ—¶æ–‡ä»¶ï¼Œæ¯æ¬¡å¯åŠ¨ umi æ—¶éƒ½ä¼šåˆ é™¤ä¹‹å‰çš„ä¸´æ—¶æ–‡ä»¶å¹¶é‡æ–°ç”Ÿæˆæ–°çš„ä¸´æ—¶æ–‡ä»¶ã€‚

### 2. å¿«é€Ÿä¸Šæ‰‹

é€šè¿‡yarnå¿«é€Ÿåˆ›å»ºé¡¹ç›®

> umiå›¢é˜Ÿå»ºè®®ä½¿ç”¨yarnä½œä¸ºumié¡¹ç›®ä¸­ç®¡ç†npmä¾èµ–çš„å·¥å…·ã€‚

```bash
xxx@xxxx umi1 % yarn create @umijs/umi-app
yarn create v1.22.17
[1/4] ğŸ”  Resolving packages...
[2/4] ğŸšš  Fetching packages...
[3/4] ğŸ”—  Linking dependencies...
[4/4] ğŸ”¨  Building fresh packages...

success Installed "@umijs/create-umi-app@3.5.20" with binaries:
      - create-umi-app
[#################################################] 49/49Copy:  .editorconfig
Write: .gitignore
Copy:  .prettierignore
Copy:  .prettierrc
Write: .umirc.ts
Copy:  mock/.gitkeep
Write: package.json
Copy:  README.md
Copy:  src/pages/index.less
Copy:  src/pages/index.tsx
Copy:  tsconfig.json
Copy:  typings.d.ts
âœ¨  Done in 1.44s.
```

è¡¨ç¤ºå·²ç»é€šè¿‡yarnæˆåŠŸçš„åˆ›å»ºäº†ä¸€ä¸ªåŸºäºå½“å‰ç›®å½•umi1çš„umié¡¹ç›®ï¼Œå…¶é»˜è®¤çš„é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```markdown
umi1
â”œâ”€.editorconfig
â”œâ”€.prettierignore
â”œâ”€.prettierrc
â”œâ”€.umirc.ts
â”œâ”€README.md
â”œâ”€package.json
â”œâ”€tsconfig.json
â”œâ”€typings.d.ts
â”œâ”€src
|  â”œâ”€pages
|  |   â”œâ”€index.less
|  |   â””index.tsx
â”œâ”€mock
```

**å®‰è£…ä¾èµ–**

```bash
xxx@xxxx umi1 % yarn
yarn install v1.22.17
info No lockfile found.
****** # è¿™é‡Œçœç•¥äº†æ­¥éª¤ï¼Œæ²¡æœ‰ç²˜è´´è¿‡ç¨‹æç¤ºä¿¡æ¯
[4/4] ğŸ”¨  Building fresh packages...
success Saved lockfile.
$ umi generate tmp
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
âœ¨  Done in 58.96s.
```

**é¡¹ç›®å¯åŠ¨**

```bash
xxx@xxxx umi1 % yarn start
yarn run v1.22.17
$ umi dev
Browserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
Starting the development server...

âœ” Webpack
  Compiled successfully in 4.40s

 DONE  Compiled successfully in 4399ms                                                                                                                                                        ä¸‹åˆ10:58:58


  App running at:
  - Local:   http://localhost:8000 (copied to clipboard)
  - Network: http://192.168.3.78:8000
```

é¡¹ç›®å·²ç»æˆåŠŸå¯åŠ¨ï¼Œå¯ä»¥é€šè¿‡http://localhost:8000å»è®¿é—®çœ‹æ•ˆæœï¼š

![umié¡¹ç›®å·²ç»æˆåŠŸå¯åŠ¨](./images/i2.png)