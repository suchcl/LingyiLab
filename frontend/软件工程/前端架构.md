### 1. 软件架构

#### 1.1 什么是软件架构

对于软件架构,不同的人有不同的理解,不同的组织有不同的定义.但是我们可以以一种简单的方式去理解它:

软件架构指软件系统的高级结构,以及创建这种高级结构和系统的约束.简单来说,就是软件系统的高级结构和约束.

#### 1.2 合理的评价软件架构

不以实现为目的的软件架构,都不是好的架构.对于系统的基本架构,可以有简单的几点评价:

1. 一个无法上线的应用架构,算不上好的软件架构;
2. 一个没有人能完成开发的软件架构,算不上是具有可行性的架构;
3. 一个在现有技术上不可行的架构,算不上合理的架构;

在讨论软件/系统架构的时候,一定要注意因地制宜,选择适合自己公司、项目的架构.比如在像阿里、腾讯、字节、百度等这样的公司里,他们实施的架构就不能在小规模企业、应用里照般搬.因为这些企业、组织拥有大量的资本、资源、基础设施以及与之相匹配的人才.但小规模企业不具备这样的条件.

#### 1.3 架构设计

架构设计并非只是一项技术性工作,它包含了一系列复杂的工作,其范围包括软件工程、开发实践、业务交付等相关领域.因此,在进行架构设计的时候,需要进行一系列的技术和非技术相关的工作,主要有

##### 1.3.1 手机架构需求

架构并非完全从技术角度来考虑问题,它需要从多方的利益出发,在满足利益相关者需求的同时,还要具备技术上的可行性

1. 了解相关者的利益

   1. 产品或者业务负责人:关心是否能够按时上线;
   2. 项目经理:根据架构来决定项目计划和项目人选;
   3. 架构师、开发人员:关心系统构建、演进和维护;
   4. 业务分析人员:关系如何分配和安排项目的迭代计划;
   5. 测试人员:设计合理的测试计划,如对系统集成部分的测试等等
   6. 高级管理人员:这些事情对组织战略性事务的帮助等

2. 寻找架构关注点

   在架构设计的过程中,各个组织、开发人员、架构师都有自己的关注点,也会有一些共同的关注点:

   1. 性能
   2. 安全
   3. 平台化
   4. 代码维护
   5. 用户体验

   不同的项目可能会因为项目自身的需求,对于各种不同的特性会有不同的优先级的考虑.有的项目有安全性更重要,那么就可能会在用户体验上做一些让步.

3. 明确跨功能需求

   按功能来划分,需求可以分为功能性需求和跨功能性需求(也称为非功能性需求).

   功能性需求定义了一个软件系统或组件的功能,也是一个系统需要提供的功能及服务,而跨功能性需求也是一个重要的组成部分,它指的是依靠一些条件判断系统运作的情形或其特性,而不是针对系统特定行为的需求.

   这些非功能性需求一般是隐形的,往往难以直接观察得出.

   因此,在进行架构设计的过程中,需要详细的列出实现跨功能需求的计划,这些需求大概可以分为两类:

   1. 运行质量(Execution Qualities):即可以在系统运作时观察到的质量,例如安全性、易用性等
   2. 演进质量(Evolution Qualities):它们体现在系统的静态结构中,例如软件的可测试性、可维护性、可扩展性、可伸缩性等

   这些需求,有部分是与性能(后端)指标相关的,例如支持的并发数、接受的宕机事件等,它们往往用各种“xx性”来描述,如:

   1. 可用性
   2. 可维护性
   3. 可变性
   4. 容错性
   5. 可伸缩性

   多数时候,对于后端来说,这些只会间接的影响架构的决策,但是对于前端来说,可能就会直接影响到应用的架构设计.如跨域兼容性、跨平台性的需求:

   1. 浏览器的支持范围
   2. 移动端设备的支持版本

   例如如果要支持IE8以及更早期的浏览器,那么就不能使用流行的Vue、React等前端框架,技术选型就只能使用jquery、Backbone等

4. 罗列技术风险点

   在设计架构的过程中,还需要寻找系统中一系列的技术风险点,并努力降低它们带来的风险.

   1. 技术风险
   2. 第三方系统集成
   3. 受限制的线上运行环境
   4. 一些需求带来的额外的技术膨胀

##### 1.3.2 明确架构模式

架构风格,是描述某一特定应用领域中系统组织方式的惯用模式.常用的架构风格有:

1. 分层风格
2. MVC风格
3. 发布-订阅风格
4. 管道和过滤器风格.

##### 1.3.3 明确架构设计方法

##### 1.3.4 生成架构产出物