### 1. 简单认识react hooks

react引入了hooks之后，函数式组件就具备了状态管理、生命周期管理等能力，几乎可以实现原来class式组件等所有能力。

函数式组件结合hooks带来的简洁的写法，以及直观的逻辑重用能力，让函数式组件称为了react中的一等公民。目前，在整个react生态中，几乎所有项目的开发都已经在围绕hooks开展了。

从class式组件模式开发，到函数式组件模式开发转变，可能会遇到各种各样的问题，但是这也都是正常的。因为从class式组件的开发到函数式组件模式的开发，转换的不仅仅是写法的区别，而是整个开发思路的转变。这就需要我们开发者都要投入到当前使用的技术思路中去思考问题，才能把技术的道路走通。

**应该怎么去学React Hooks？**

1. 最重要的是要准确的知道Hooks的功能边界，也就是知道它能做什么。

否则就有可能会陷入一个误区，就是既然Hooks那么好，那我所有的问题都使用Hooks去做，也或者是使用Hooks是最优秀的解决方案，但是却没有想到它。

2. 掌握核心概念和原理

![React Hooks核心概念和原理图](./images/i30.webp)

### 2. 了解React

React，其实就是一个很简单的UI库，它的用法，主要就是3个概念：组件、状态和JSX。

React中，任何一个state发生变化时，整个函数组件都会被重新执行一遍，而且除了state，多次执行之间没有任何的关系。所以在React中考虑一个组件的实现时，我们要首先考虑这个组件中都有哪些组件（state），这些状态的变化都是由什么触发的，从而将整个组件的功能串起来。

**思考** React最打动你的特性是什么？或者说它的最大的优点有哪些？

#### 2.1 使用组件的方式描述UI

React中，所有的UI都是通过组件去描述和组织的。也可以简单的理解，React中所有的元素都是组件，具体来讲又可以分为两种组件：

1. 内置组件：内置组件其实就是映射的HTML组件，如div、p、table、img等，作为约定，内置组件，都使用小写方式。

2. 自定义组件：自定义组件就是自己定义的组件，是一些内置组件的集合，形成了一个新的模块功能。作为约定，自定义组件使用大驼峰的命名规范，就是首字母大写，多个单词拼接时，每个单词的首字母都大写，如Header、NewsList等。

React和DOM节点定义的方式类似，React组件也是树状结构的，且React应用只有一个根组件。

#### 2.2 React组件的本质是什么？

React组件的模型，其实就是Model到View的映射，这里的model对应到React中，就是state+props：

![React组件模型：Model到View的映射](./images/i31.webp)

**什么是数据绑定？**

当Model(state、props)中的数据发生变化时，UI会自动发生变化，即所谓的数据绑定。

所以从这个角度来讲，我们可以把UI的展现看成一个函数的执行过程。其中，model是输入参数，函数的执行结果是DOM树，也就是View。而react要保证的，就是每当Model发生变化时，函数会重新执行，且生成新的DOM树，然后React再把新的DOM树以最优的方式更新到浏览器。

### 2.3 Hooks

Hooks，就是钩子的意思。React中，Hooks就是把某个目标结果钩到某个可能会变化的数据源或者事件源上，当被钩到的数据源或者事件源发生变化时，产生这个目标结果的代码就会重新执行，产生更新后的结果。对于函数式组件，这个结果就是最终的DOM树。

Hooks的思想，不光是在React中可用，其他的应用场景也可用。

Hooks的最大的好处，就是逻辑的复用。

**Hooks的最大的好处，就是逻辑的复用**

在Hooks之前的React使用中，经常被大家诟病的一点就是非常难以实现逻辑的复用，必须借助告诫组件等复杂的设计模式。但是告诫组件会产生荣誉的组件节点，让调试变的困难。这些问题在Hooks中得到了很好的解决，所以说Hooks的最大好处，就是简化了逻辑的复用。

**Hooks的另一个好处，就是有助于关注分离**

有助于关注分离，意识是说Hooks能够让针对同一个业务逻辑的代码尽可能的聚合在一起。

这一点在类式组件中很难实现的，因为在类式组件中，我们不的不把同一个业务逻辑的代码分散在不同的生命周期方法中。

所以说，通过Hooks的方式，可以让代码更加容易理解和维护。

**类式组件和函数式组件的区别**

类式组件和函数组件的一个区别，就是类式组件是通过技术角度组织到一起的，例如在不同的生命周期阶段做一些特定的事情，而函数式组件式通过业务角度组织到一起的，相同业务逻辑的代码组织在一起，从而更加的容易理解和维护。

Hooks称为了React开发的主流方式，它在一定程度上体现了React的开发思想，即从State =》View的函数映射。