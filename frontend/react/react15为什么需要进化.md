我没有接触过react15，类式组件也是仅仅看文档学习过一点，没有实际上过项目，对react16.8之前的版本了解的不是很多，看到大佬们分析之前各个版本的进化，简单做个记录。

本文的主要内容，其实是通过react源码分析react的进化，由于主要是针对react15做的对比分析，权且记录为为什么react15为什么需要进化吧。

### react15为什么需要进化？

主要是因为react15有两大弊端：

1. 渲染阻塞

2. 没有办法合并异步函数里面的setState

#### 同步渲染阻塞主线程

react15，从setState到DOM节点渲染到页面上，整个过程是同步的，因此，如果其中的某个环节消耗的时间比较长，就会阻塞主线程。

js的执行是单线程的，js引擎线程与浏览器的其他线程互斥，如果js线程阻塞，其他线程如GUI渲染线程、事件线程、异步HTTP线程等都会被阻塞，都会被挂起，同时用户触发的浏览器事件没有响应、造成页面卡顿现象。

#### 无法合并异步函数里面的setState