### 1. 进程和线程的概念

1. 进程：进程是CPU进行资源分配的最小单位，是能够拥有资源和独立运行的最小单位，进程之间不会共享资源；

2. 线程: 线程是CPU调度的最小单位，线程是建立在进程基础之上的一次程序运行单位，一个进程可以有多个线程，多个线程共享进程的资源；

3. 不同进程之间相互隔离，但是也可以相互通信，只是代价有点大。

看到过一个形象生动的比喻，就是进程和线程的关系，就好像是工厂和工厂里的工人一样，不同的工厂有自己的资源、空间，工厂里面也会有很多工人，工人是没有自己独立的资源和空间的，打算工厂里面的工人是可以共享工厂的资源和空间。同样，不同的工厂都是独立的，但是工厂与工厂之间也会有合作之类的关系，在达到了一定的要求、条件下，也可以实现一线资源或者空间的共享，会发生业务的往来。

### 2. 浏览器中的进程

浏览器的一些基础的共识：

1. 浏览器是多进程的；

2. 因为系统给浏览器分配了资源如CPU、内存等，所以浏览器能够运行；

3. 浏览器每打开一个页签，都相当于新开了一个独立的进程，不同的页签之间的进程都是独立的，它们互不影响。即使其中的一个页签由于某种原因崩溃了，也不会影响到其他页签的正常使用。之前的IE浏览器是不行的。

> 线程是共享资源的，同一个进程中的不同线程如果由于某种原因阻塞了，那么就会影响到其他线程的执行。

### 3. 浏览器中都有哪些进程？

现代浏览器(以Chrome浏览器为例)主要有以下几个进程：

1. 浏览器主进程：每个浏览器都只有1个浏览器主进程，主要负责界面展示、用户交互、子进程管理，同时提供存储功能；

2. 渲染进程：一个浏览器有多个渲染进程，其核心任务是将HTML、CSS和javascript转换为用户可以与之交互的网页，排版引擎Blink和javascript的V8引擎都是在该进程中。默认情况下，Chrome会为每个Tab都创建一个渲染进程。同时为了安全考虑，渲染进程都是运行在沙箱模式下。

3. 插件进程：主要负责插件的运行。浏览器中可以安装多个插件，但是由于插件的开发者质量参差不齐，容易崩溃，为了浏览器的使用体验，需要将插件进程来进行隔离，保证插件出了问题后不影响到整个浏览器的使用。

4. 网络进程：主要负责页面的网络资源架载，以前是作为浏览器进程里的一个模块运行，后来独立了出来，成为了一个单独的进程；

5. GPU进程：用于3D效果绘制。Chrome早期是没有GPU进程的，最初使用GPU只是为了渲染3D CSS效果的，只是后来网页、Chrome的UI界面都采用GPU来绘制，使得GPU成为浏览器的普遍需求，最后Chrome在其多进程架构中引入来GPU进程。

> 主要有这几个进程，不是说只有这几个进程。

**浏览器多进程的优势**

1. 避免单个页签的崩溃影响到整个浏览器的使用；

2. 避免第三方插件的崩溃响应到整个浏览器的使用；

3. 多进程可以充分利用CPU的多核优势；

4. 方便使用沙箱模型隔离插件等进程，提高浏览器的稳定性和安全性；

虽然说了这么多的优势，但是其本质还是用空间换时间，牺牲内存。

### 4. 浏览器线程

浏览器线程主要存在于渲染进程里面，也就是我们常说的浏览器内核里面，浏览器内核中常用的几种引擎就是我们要使用的线程，主要有以下几种线程:

1. 