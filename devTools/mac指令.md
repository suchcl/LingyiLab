### 1. 基础指令

> vi/vim有三种模式，分别为：命令行模式、输入模式、底线命令模式。

命令行模式：我也经常说是阅读模式。

输入模式：可进行文件的编辑

底线命令模式：可在文件底部命令行进行操作，如模式的切换、文件的保存等。

#### 1.1 命令行模式下常用指令

```
gg      跳转到文件首行
shift+g 跳转到文件最后一行
i       切换为输入模式/可编辑模式
:       切换到底线命令模式，以在最后一行输入指令
dd      删除当前行
o       在当前行的下面新增一行，并切换为输入模式
O       在当前行的上面新增一行，并切换为输入模式
x       删除光标所在位置的字符
X       删除光标前一个字符
```

#### 1.2 输入模式下常用指令

vi、vim可以对具有写入权限的文件进行操作。在命令行模式下，可以通过下面6个指令进入到输入模式：i、I、a、A、o、O。

```
i: 在光标左侧输入文本，光标右侧内容向右移动
I: 光标跳转到行首，并切换到输入模式
a: 在光标的右侧输入文本
A: 光标跳转到行尾，并切换为输入模式
o: 在当前行的下面新增一行，并切换为输入模式
O: 在当前行的上面新增一行，并切换为输入模式
```

#### 1.3 底部命令行模式指令

```
:q  退出vi编辑器
:q! 退出vi编辑器，不保存文件
:w  保存文件，不退出文件编辑器
:wq 保存文件且退出文件编辑器
:start,endd 从start行开始到end行进行删除操作，最后一个d标识删除操作，如:3,8d,删除3到8行
:%d 清空文件内容(跳转到首行，执行dG也是清空文件内容)
dG  跳转到首行，执行dG清空文件内容
:!command 暂时退出vi编辑器
```

#### 1.4 命令行模式下的光标移动

##### 1.4.1 单个字符移动

```
h  光标向左移动一格
j  光标向下移动一格
k  光标向上移动一格
l  光标向右移动一格
```

光标移动指令，还有个小知识点，就是**可以指定移动步长**，在指令前加入数字，表示移动的步长，如

```
2h 光标向左移动2格
3k 光标向上移动3格
5l 光标向右移动5格
7j 光标向下移动7格
```

##### 1.4.2 单词移动指令

```
w  光标移动到下一个单词的词首
b  光标移动到前一个单词的词首
e  光标移动到下一个单词的词尾
```
##### 1.4.3 收尾行移动命令

```
$  光标移动到当前行的尾部
0  光标移动到当前行的首部(数字0)
gg 光标移动到文件起始位置，第一行的第一个位置
shift+g 光标移动到文件最后一行
num+G 光标移动到指定的第num行
:num 切换至底线命令行模式，并跳转到指定的num行(num为指定的数字)
```

##### 1.4.4 退出命令

```
:wq  保存并退出当前VI编辑器
:w   保存当前文件，但是不退出vi编辑器
:q   退出当前vi编辑器，不保存文件
:q!  强制退出vi编辑器，不保存文件
ZZ   退出当前vi编辑器并保存文件(大写字母ZZ，小写的不可)
```
##### 1.4.5 翻页指令

```
ctrl+d  向下翻页(mac上翻24行)
ctrl+u  向下翻页(mac上翻24行)
ctrl+f  光标下翻满屏
ctrl+b  光标上翻满屏
```

##### 1.4.6 剪切和粘贴指令

```
d  删除指定位置的文本且临时存储到缓存区；可使用p访问缓存区；常常这样使用：d、:num,numd、dd(删除整行)、.. 
y  将指定文本复制到临时缓存区；可使用put操作符访问；常常这样使用：y、yy(复制整行)
p  将指定缓存区内容放在光标位置之下；整行文本放在行下面，若是非整行文本则放在光标后面
P  将指定缓冲区的内容放到当前光标的位置之上；整行文本放在行下面，若是非整行文本则放在光标后面
```

##### 1.4.7 剪切和粘贴指令

```
x  删除光标所在位置的字符
dd 删除光标所在的行
u  撤销最近的修改，针对所有的修改
U  撤销当前行上所做的所有修改
r  替换当前光标所在的字符，但不会进入到输入模式(使用方式：先输入r，在输入一个字符，新输入字符替换当前位置的字符)
R  替换从光标位置开始的字符，同时会切换底线输入模式(R即replace)
.  重复上一次的修改
```
### 2. 统计文件数量

```bash
ls -l|grep "^d"|wc -l # 统计当前目录下文件夹的数量,不包含子目录
ls -lR|grep "^d"|wc -l # 统计当前目录下文件夹的数量，包含子目录
ls -l|grep "^-"|wc -l # 统计当前目录下文件的数量
ls -lR|grep "^-"|wc -l # 当前目录下的文件数量，包含子目录
```
#### 2.1 罗列当前目录下的文件/夹

```bash
ls -l # 罗列当前目录下的所有文件/夹的详细信息
ls -l|grep "^d" # 罗列当前目录下的目录
ls -lR|grep "^d" # 罗列当前目录下的所有目录，包括子目录
ls -l|grep "^-" # 罗列当前目录下的所有文件，不包含子目录中的文件
ls -lR|grep "^-" # 罗列当前目录下的所有文件，包含子目录中的文件
```

### 3. 统计文件质量(大小)

```bash
du -hs # 统计当前目录的总的大小,包括隐藏文件，只有总的大小，没有任何细节信息
du -shc * # 统计当前目录下各文件及文件夹大小，并在最后显示总大小，不包括隐藏文件
du -sh *|sort -rh # 统计当前目录各个文件夹、文件的大小，并按大小顺序排序
```

### 4. 权限操作

```
whoami 查看当前登录用户
```