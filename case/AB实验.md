### 1.AB实验

在做商业产品的时候，经常会需要测验一些运营策略的价值，以此为依据对后续运营动作做决策，检测不同运营策略效果的时候，经常使用的方式就是AB实验。

**什么是AB实验呢？**

AB实验，简单来说，就是两面性的一个测试，其实现方式是分流，对流量的流向进行控制，从而达到AB实验的目标。

**那么什么又是分流呢？**

分流，就是将流量分向不同的方向。比如某个站点进来了1000个流量，通过一些技术手段，使这1000个流量中国的500个流量流向路径A，另外500个流量流向路径B。这就是分流。当然了，也可以控制流向更多的分支，只是实际使用的相对较少。

分流，不一定是绝对的流向不同的路径，也有可能是将用户导向不同的组件，让用户最终享受、使用到不同的服务。

让用户使用、享受不同的服务，常用的就是将用户导向不同的路径和不同的UI视觉组件，通过收集、分析不同用户在不同的服务体验下的数据，来判断不同运营策略的效果。

### 2. 常见的分流方式

1. 接口分流

2. 投放侧分流

3. web服务器层分流(web服务器，好像nginx使用的多一些，但不一定就是nginx)

#### 2.1 接口分流

客户端在展示内容之前，先获取服务端的接口，根据接口的相应结果确定渲染某组件或者导向某个路由。

接口分流的优势是可以实现功能的配置化，产品的运营人员可以在后台进行流量配置，不需要开发人员的支持就可以快速实现分流目的，灵活、方便。

**不适用场景**

使用接口分流，需要注意在进行一些功能迭代的时候是否需要重新部署代码，如果需要重新部署代码，可能会对AB实验造成一些伤害性的修改。这种场景可能不太适合接口分流，如果还是希望有接口分流的这种灵活性，那么就需要在更高的层次去抽象分流的功能。

#### 2.2 投放侧分流

#### 2.3 web服务器侧分流